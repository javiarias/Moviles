/*! dtb-m.js - v2.4.1 - 2019-11-20 23:28:58 */!function(t){var i={};function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(n,e){if(1&e&&(n=o(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var i in n)o.d(t,i,function(e){return n[e]}.bind(null,i));return t},o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="",o(o.s=0)}([function(e,n,t){function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var V=t(1);window.amzn=window.amzn||{},amzn.dtb=window.amzn.dtb||{},function(v){var s=!1,h=!1,l="aax-us-east.amazon-adsystem.com",a=null,d=null,c="https://",o="__dtbAd__",r="2.4.1",y=/linux.*android.*?/g.test(window.navigator.userAgent.toLowerCase()),b=/(iphone|ipod|ipad).*applewebkit.*?/g.test(window.navigator.userAgent.toLowerCase());v.sdkType="unknown";var u=!1,p=!1,g=!1,m={networkCalls:{pixels:[],imp:[]},logs:[]};i({nike:1,errors:10,gmaSDK:1});var n,f=(n=!1,{impRendered:function(){var e=E(1);S.send(e,a)},mraid3Comparison:function(){u&&"3.0"===mraid.getVersion()&&(mraid.addEventListener("viewableChange",t),mraid.addEventListener("exposureChange",w),t())}});function t(){if(mraid.isViewable()&&!n){var e=E(2);S.send(e,a),n=!0,window.mraid.removeEventListener("viewableChange",t)}}function w(e,n,t){if(1<=e){var i=E(3);S.send(i,a),window.mraid.removeEventListener("exposureChange",w)}}function E(e){return{p:e,ts:s?0:Date.now(),_type:"nike"}}function x(e){return e&&"string"==typeof e&&0<e.trim().length}var S=function(){try{function t(e){e._tl="aps-mtag";var n=JSON.stringify(e);return n=function(e){return e.replace(/\\.{1}/g,"")}(n),n=encodeURIComponent(n)}function i(){return c+l+"/x/px/"}function o(e){(new Image).src=e,m.networkCalls.pixels.push(e),v.log("Pixel sent: ".concat(e))}function r(e){return i()+"p/PH/"+t(e)+d()}function a(e,n){return i()+n+"/"+t(e)+d()}var d=function(){return"?cb="+(s?0:Math.round(1e7*Math.random()))};return{send:function(e,n){try{var t;t=n?a(e,n):r(e),o(t)}catch(e){console.log(e)}},getUrl:function(e,n){try{return n?a(e,n):r(e)}catch(e){console.log(e)}}}}catch(e){return function(){}}}();function I(e){var n={lv:r,ts:s?0:Date.now(),_type:"apsLibraryError",e:{et:e.type,msg:e.info}};v.log("reportError type: '".concat(e.type,"', msg: ").concat(e.msg)),p&&S.send(n,a)}function k(e){try{var n=parseInt(e,10);if(!isNaN(n)){if(n<=0)return!1;if(100<=n)return!0;if(100*Math.random()<=n)return!0}return!1}catch(e){return!1}}function i(e){var n=e.nike,t=void 0===n?1:n,i=e.errors,o=void 0===i?10:i,r=e.gmaSDK,a=void 0===r?1:r;u=k(t),p=k(o),g=k(a)}v.log=function(){for(var e="",n=0;n<arguments.length;n++)e+=arguments[n]+" ",s&&console&&console.log&&!h&&console.log(e);m.logs.push(e)},v.dispatchAppEvent=function(e,n,t,i,o){if("fb"==i)try{admob.events.dispatchAppEvent("mDTB","facebook")}catch(e){I({type:"mdtb-ad-rendering",info:"admob/fb"})}else v.loadAd(e,n,t,o)},v.toggleDebug=function(e){switch(e){case"enable":return s=!0,void 0===window.amznDebugState&&(window.amznDebugState=m),i({nike:100,errors:100,gmaSDK:100}),v.log("Debug mode enabled");case"disable":return s=!1,void 0!==window.amznDebugState&&delete window.amznDebugState,i({nike:1,errors:10,gmaSDK:1}),v.log("Debug mode disabled");case"unitTests":return h=!0,v.log("Disabling my.log console logs showing in unit tests");default:return v.log("unknown debug argument")}},v.loadAd=function(e,n,t,i){if(arguments.length<2)console.error("amzn.dtb.loadAd is not called with sufficient number of arguments.");else if(i&&(v.toggleDebug("enable"),v.log("Enabling debug mode, now all logs will be printed & http will used for connection.")),x(t)&&-1==t.indexOf("BAD")&&(v.log("Overriding default aaxHost with: "+t),l=t),x(n))if(v.log("Setting bidId: "+n),a=n,x(e)){v.log("Setting pricepoint: "+e),d=e,v.log("Making JSONP call to load the creative.");var o=document.createElement("script");o.type="text/javascript",o.src=c+l+"/e/msdk/adm?b="+a+"&ps="+d,document.body.appendChild(o),v.log("Creating viewport meta tag and adding it to head.");var r=document.createElement("meta");r.name="viewport",r.content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover",document.head.appendChild(r),function(){var e=["getVersion","isViewable","addEventListener","removeEventListener"];0<(e=void 0===window.mraid||"object"!==R(window.mraid)||null===window.mraid?["mraid"].concat(e):e.filter(function(e){return"function"!=typeof window.mraid[e]})).length&&I({type:"missingMraidMethods",info:e})}()}else v.log("Error","Pricepoint passed is not a valid string, aborting!");else v.log("Error","BidId passed is not a valid string, aborting!")};function A(){if(!("mraid"in window))return v.log("Error","Mraid object not found, impression will not be made."),void v.log('Please include \'<script type="text/javascript" src="mraid.js"><\/script>\' in your creative.');var n=!1;if(d&&a){function e(){if(n)v.log("Impression pixel already fired.");else{v.log("Ad has rendered so firing impression pixel to ad-server.");var e=c+l+"/e/msdk/imp?b="+a+"&ps="+d+"&rnd="+Math.floor(1e5*Math.random()+1);(new Image).src=e,m.networkCalls.imp.push(e),n=!0,function(){var e=window.document.getElementById("apsAdIframe"),n=window.getComputedStyle(e),t=parseInt(n.width,10),i=parseInt(n.height,10);v.log("iFrame at impression measured ".concat(t,"x").concat(i)),(t<300||i<50)&&I({type:"iFrameSize",info:"".concat(t,"x").concat(i)})}()}}function i(e){var n='{"adViewability":[{"error": {"m": "'+e+'"}}], "c": "viewability", "api": "MAPP", "error": 1}';(new Image).src=c+l+"/x/px/"+a+"/"+n+"?cb="+Math.round(1e7*Math.random())}function t(){mraid.isViewable()&&e()}v.log("Registering impression event, with Pricepoint",d,"and bidId:",a),f.impRendered(),mraid.addEventListener("viewableChange",t),t(),function(){if(!0===v.ev){v.log("Injecting viewability script");var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.onload=function(){if(v.log("Viewability script loaded"),amzncsm&&"function"==typeof amzncsm.rmRM){var e,n=document.getElementById(o);if(n){var t=n.getElementsByTagName("iframe");t&&0<t.length&&(e=t[0])}amzncsm.host=l,e?amzncsm.rmRM(a,e):i("ad iframe not found")}else i("amzncsm.rmRM is not a function")},e.onerror=function(){i("CSM JS loading failed")},e.src="//c.amazon-adsystem.com/bao-csm/mobile/csm.js.gz",document.body.appendChild(e),v.log("Viewability script injected")}}(),f.mraid3Comparison(),function(){if(g&&M()){var e={lv:r,ts:s?0:Date.now(),_type:"gmaSDK",gmaversion:window.MRAID_ENV.sdkVersion};S.send(e,a)}}()}}function z(){if(b){var e=window.navigator.userAgent.match(/OS [0-9]+/g);return!!e&&13<=parseInt(e[0].match(/[0-9]+/g)[0],10)}return!1}function M(){return!("3.0"!==mraid.getVersion()||!window.MRAID_ENV||"Google Mobile Ads"!==window.MRAID_ENV.sdk||!window.MRAID_ENV.sdkVersion)}v.renderAd=function(g){if(v.ev=g.ev,g&&g.html){var m=document.getElementById(o);if(m){v.log("Loading HTML creative:",g.html),m.innerHTML="";var f=!1;!function(e){return 0!==e.innerWidth&&0!==e.innerHeight}(window)?(window.addEventListener("resize",w),window.setTimeout(function(){!1===f&&window.removeEventListener("resize",w),w(!1)},1e3)):w(!1)}else v.log('Ad div not found. Please place an empty div with id="__dtbAd__" in the page, aborting!')}else v.log("Looks like there is no creative in JSONP call, aborting!");function w(e){if(!1===f){function n(){mraid.isViewable()&&(mraid.removeEventListener("viewableChange",n),v.log("assigning intersitial dimensions on viewable"),l.style.width="100vw",l.style.height="100vh",window.addEventListener("resize",t),window.setTimeout(function(){s||(v.log("notch detection fallback running for resize not firing"),t())},100))}var t=function e(){s=!0,window.removeEventListener("resize",e),!function(){var e=!1,n=document.createElement("div");CSS.supports("padding-top: env(safe-area-inset-top)")?(n.style.paddingTop=h?"200pt":"env(safe-area-inset-top)",n.style.paddingBottom=h?"100pt":"env(safe-area-inset-bottom)",n.style.paddingLeft=h?"50pt":"env(safe-area-inset-left)",n.style.paddingRight=h?"40pt":"env(safe-area-inset-right)",e=!0):CSS.supports("padding-top: constant(safe-area-inset-top)")&&(n.style.paddingTop=h?"200pt":"constant(safe-area-inset-top)",n.style.paddingBottom=h?"100pt":"constant(safe-area-inset-bottom)",n.style.paddingLeft=h?"50pt":"constant(safe-area-inset-left)",n.style.paddingRight=h?"40pt":"constant(safe-area-inset-right)",e=!0);if(e){document.body.appendChild(n);var t={top:parseInt(window.getComputedStyle(n).paddingTop),bottom:parseInt(window.getComputedStyle(n).paddingBottom),left:parseInt(window.getComputedStyle(n).paddingLeft),right:parseInt(window.getComputedStyle(n).paddingRight)};for(var i in document.body.removeChild(n),t)if(0<t[i])return!0}return!1}()?y&&window.addEventListener("resize",function(){l.style.width=window.innerWidth+"px",l.style.height=window.innerHeight+"px"}):(v.log("notch detected for interstitial"),i())},i=function(){l.style.position="absolute",l.style.top="50%",l.style.left="50%",l.style.transform="translate(-50%, -50%)";var a=window.innerHeight>window.innerWidth?"portrait":"landscape";v.log("applying interstitial sizes for notch");var d=!1,s=!1;if(b&&M()){v.log("gmaSDK detected: ".concat(window.MRAID_ENV.sdkVersion));var e=window.MRAID_ENV.sdkVersion.split(".").map(function(e){return parseInt(e,10)}),n=e[0],t=e[1];e[2];(7===n&&46<=t||7<n)&&(d=!0,v.log("disabling iOS 13 logic for notch")),(7===n&&49<=t||7<n)&&(s=!0,v.log("using window.orientation value for device rotation"))}function i(t){var i=10,o=0,r=!1;!function e(n){v.log("value of window.orientation is ".concat(window.orientation)),!0===t&&!0!==n?v.log("initializing notch dimensions: ".concat(a)):(s?a!==(a=0===window.orientation||-180===window.orientation?"portrait":"landscape")&&(r=!0,v.log("window.orientation value has changed, ending polling")):a="portrait"===a?"landscape":"portrait",v.log("notch orientation change: ".concat(a)));"portrait"===a?(l.style.width="100vw",l.style.height=z()&&!d?"100vh":z()&&d?"87vh":"90vh"):(l.style.width=z()&&d?"87vw":"90vw",l.style.height="100vh"),++o!==i?!0!==t&&s&&!r&&o<i&&window.setTimeout(function(){v.log("loopCount for checking orientation is ".concat(o)),e(!0)},100):v.log("Ending polling, max loops reached")}(!1)}i(!0),window.addEventListener("orientationchange",i)};!(f=!0)!==e&&window.removeEventListener("resize",w);var l=document.createElement("iframe");l.style.border="none";var o=_();o?(l.style.width=o.width+"px",l.style.height=o.height+"px"):(l.style.width=window.innerWidth+"px",l.style.height=window.innerHeight+"px"),l.style.overflow="hidden",l.setAttribute("border","0"),l.setAttribute("id","apsAdIframe"),m.appendChild(l),l.contentWindow.mraid=window.mraid,l.contentWindow.amazon={},l.contentWindow.dtb=new L;var r=l.contentDocument||l.contentWindow.document,a=D(g.html),d="<style> body { margin: 0px; padding: 0px } </style>".concat(a);r.open("text/html"),r.write(d),r.close(),v.log("Adding event handlers..."),C(m)?(mraid.isViewable()&&n(),mraid.addEventListener("viewableChange",n)):window.onresize=function(){l.style.width=window.innerWidth+"px",l.style.height=window.innerHeight+"px"};for(var s=!1,c=r.getElementsByTagName("a"),u=0;u<c.length;u++){var p=c[u];p.onclick||p.target||(p.target="_top")}v.ev=g.ev,A()}}};var C=function(e){return"100%"===e.style.width},_=function(){if(window.MRAID_ENV&&window.MRAID_ENV.amznAdInfo){var t=window.MRAID_ENV.amznAdInfo;return!!["width","height","type"].reduce(function(e,n){return t.hasOwnProperty(n)||(e=!1),e},!0)&&window.MRAID_ENV.amznAdInfo}return!1},D=function(e){var n=e.indexOf("mraid.js");return-1!=n&&(v.log("Purging extra mraid.js from the creative."),e=e.substring(0,n)+e.substring(n+8),v.log("New Creative: ",e)),e},L=function(){var o=this,r=mraid.open;o.sdkVersion="mDTB-js-1.0.1",o.os="Android",b&&(o.os="iOS"),"unknown"===v.sdkType&&(-1!=location.href.indexOf("mopub")?v.sdkType="mopub":-1!=location.href.indexOf("doubleclick")&&(v.sdkType="dfp")),mraid.open=function(e){if("string"==typeof e){if(v.log("Original URL:",e),/^amazonmobile:\/\//g.test(e)){var n=e.split("intent=");if(1<n.length){var t=n[n.length-1],i=decodeURIComponent(t);V(i)||I({type:"validateDLFallbackURL",info:i}),e="".concat("https://dl.amazon.com/redirect/ref=mm_1_aps-mobile-dl?campaignId=QALXjR&failureMode=MobileWebMostly&url=").concat(t)}}v.log("Opening URL:",e),/^http/g.test(e)&&"mopub"==v.sdkType?(v.log("Opening url using mopub native interface."),r.apply(mraid,["mopubnativebrowser://navigate?url="+encodeURIComponent(e)])):"iOS"!==o.os||!/^http/g.test(e)||"admob"!=v.sdkType&&"dfp"!=v.sdkType?(v.log("Opening url using mraid interface."),r.apply(mraid,arguments)):(v.log("Opening url using window.open"),window.open(e,"_blank"))}},o.openUrl=mraid.open}}(amzn.dtb),window.aax_render_ad=amzn.dtb.renderAd},function(e,n){e.exports=function(e){if("string"!=typeof e)return!1;var n=e.match(i);if(!n)return!1;var t=n[1];if(!t)return!1;if(o.test(t)||r.test(t))return!0;return!1};var i=/^(?:\w+:)?\/\/(\S+)$/,o=/^localhost[\:?\d]*(?:[^\:?\d]\S*)?$/,r=/^[^\s\.]+\.\S{2,}$/}]);